!function(e){var t={};function n(l){if(t[l])return t[l].exports;var o=t[l]={i:l,l:!1,exports:{}};return e[l].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(l,o,function(t){return e[t]}.bind(null,o));return l},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var l=()=>{document.querySelectorAll(".panel-group").forEach(e=>{const t=e.querySelectorAll(".panel"),n=e.querySelectorAll("a.button");e.addEventListener("click",e=>{const l=e.target;t.forEach(t=>{t.lastElementChild.style.maxHeight=t.lastElementChild.scrollHeight+"px",t.lastElementChild.classList.add("in");const n=t.lastElementChild.scrollHeight+"px";t.lastElementChild.style.maxHeight=0,l.closest(".panel-heading")===t.firstElementChild&&(t.lastElementChild.style.maxHeight=n),l.closest(".in")===t.lastElementChild&&(e.stopPropagation(),t.lastElementChild.style.maxHeight=n)}),n.forEach(e=>{if(e===l.closest("a.button")){const t=e.getAttribute("href").slice(1),n=document.getElementById(t);n.style.maxHeight=n.scrollHeight+"px",e.parentElement.parentElement.style.maxHeight=0}})})})};var o=()=>{const e=document.querySelectorAll(".popup"),t=document.querySelectorAll(".btn-popup");t.forEach(t=>{t.addEventListener("click",n=>{var l;n.preventDefault(),l=t.dataset.name,e.forEach(e=>{e.classList.contains("popup-"+l)&&(e.style.cssText="display: block;\n                                opacity: 0;\n                                transition: .3s",setTimeout(()=>{e.style.opacity=1}),e.addEventListener("click",t=>{let n=t.target;n===e.querySelector(".popup-close")?(e.style.cssText="opacity: 0;\n                                    display: block;\n                                    transition: .3s",setTimeout(()=>{e.style.cssText="display: none"},300)):n=n.closest(".capture-form"),n||(e.style.cssText="opacity: 0;\n                                    display: block;\n                                    transition: .3s",setTimeout(()=>{e.style.cssText="display: none"},300))}))})})})};var s=()=>{const e=document.getElementById("myonoffswitch"),t=document.getElementById("myonoffswitch-two"),n=document.getElementById("accordion"),l=document.querySelectorAll(".septic-value"),o=document.getElementById("calc-result"),s=n.querySelectorAll("select"),r=document.querySelector(".length"),c=/\D/g,i={};let a=void 0;const d=()=>{r.addEventListener("input",()=>{r.value=r.value.replace(c,"")});let n=0;if(e.checked){a=2,i.cell=1,l[1].style.display="none",n=1e4;for(let e=0;e<a;e++)n+=1e4*+s[e].value/100;t.checked?(n+=1e3,i.presence=!0):i.presence=!1,o.value=n}else{a=4,i.cell=2,l[1].style.display="block",n=15e3;for(let e=0;e<a;e++)n+=15e3*+s[e].value/100;t.checked?(n+=2e3,i.presence=!0):i.presence=!1,o.value=n}i.length=r.value,i.result=o.value,i.diametrOne=s[0].options[s[0].options.selectedIndex].text,i.valueOne=s[1].options[s[1].options.selectedIndex].text,i.diametrTwo=s[2].options[s[2].options.selectedIndex].text,i.valueTwo=s[3].options[s[3].options.selectedIndex].text};return d(),n.addEventListener("change",()=>{d()}),i};var r=()=>{const e=document.querySelector(".add-sentence-btn"),t=e.parentElement;e.addEventListener("click",()=>{t.querySelectorAll("div").forEach(e=>{e.classList.add("visible"),e.classList.remove("hidden"),e.classList.remove("visible-sm-block")}),t.lastElementChild.classList.add("hidden")})};var c=()=>{const e=document.createElement("div");e.style.cssText="padding: 10px;\n        font-size: 18px;\n        font-weight: 600;\n        color: #4a4a4a;\n        display: inline-block;\n        margin-top: 15px;\n        margin-bottom: 15px";const t=document.querySelector(".main-form"),n=document.querySelectorAll(".capture-form"),l=(t,n)=>{const l=/^\+?\d+$/,o=/[а-яА-ЯёЁ\s]+/g;for(const e of t.elements)"submit"!==e.type||e.classList.contains("popup-close")||e.setAttribute("disabled","disabled"),"tel"===e.type&&e.addEventListener("input",e=>{if(l.test(e.target.value)){e.target.style.border="1px solid green";for(const e of t.elements)"submit"===e.type&&(e.removeAttribute("disabled"),e.style.border="1px solid transparent")}else{e.target.style.border="1px solid red";for(const e of t.elements)"submit"===e.type&&(e.setAttribute("disabled","disabled"),e.style.border="1px solid red")}}),"text"===e.type&&e.addEventListener("input",e=>{o.test(e.target.value)?e.target.style.border="1px solid green":(e.target.style.border="1px solid red",e.target.value=[...e.target.value.matchAll(o)].join(""))});t.addEventListener("submit",l=>{l.preventDefault(),t.appendChild(e),e.textContent="Загрузка...";const o=new FormData(t),s={};for(const e in n)s[e]=n[e];o.forEach((e,t)=>{s[t]=e}),(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(s).then(t=>{if(200!==t.status)throw new Error("status network not 200");e.textContent="Спасибо, мы скоро с Вами свяжемся!",setTimeout(()=>{e.remove()},5e3)}).catch(()=>{e.textContent="Что-то пошло не так..."})})};l(t),n.forEach(e=>{const t=document.querySelector(".popup-discount"),n=document.querySelector(".popup-consultation");if(t.contains(e)){const t=s();l(e,t)}else if(n.contains(e)){const t=document.querySelector(".director-form").querySelector("input"),n={};t.addEventListener("input",()=>{n.text=t.value}),n.text=t.value,l(e,n)}else l(e)})};(()=>{document.querySelectorAll("a").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault()})})})(),o(),l(),s(),r(),c()}]);